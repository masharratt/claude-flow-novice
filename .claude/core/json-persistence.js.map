{"version":3,"sources":["../../../src/core/json-persistence.ts"],"names":["join","mkdir","access","readFile","writeFile","JsonPersistenceManager","dataPath","data","dataDir","agents","tasks","lastUpdated","Date","now","initialize","recursive","content","JSON","parse","error","console","save","stringify","saveAgent","agent","filter","a","id","push","getAgent","find","getActiveAgents","status","getAllAgents","updateAgentStatus","saveTask","task","t","getTask","getActiveTasks","getAllTasks","updateTaskStatus","assignedAgent","undefined","completedAt","updateTaskProgress","progress","getStats","activeAgents","length","pendingTasks","completedTasks","totalAgents","totalTasks","close"],"mappings":"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"}