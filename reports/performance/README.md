# Performance Reports

Performance benchmark reports, optimization results, and WASM acceleration metrics.

## Purpose

This directory contains performance profiling data, benchmark results, WASM acceleration metrics, and optimization recommendations generated by the post-edit pipeline and performance analysis agents.

## Report Types

### Post-Edit Performance Analysis
- **Format**: `perf-{file}-{date}.json`
- **Content**: Execution time, memory usage, algorithmic complexity, optimization suggestions
- **Generated**: After file edits via post-edit-pipeline.js with --performance flag

### WASM Acceleration Metrics
- **Format**: `wasm-{component}-{date}.json`
- **Content**: Speedup ratios, memory efficiency, compilation time, 52x acceleration validation
- **Generated**: Post-edit pipeline for JS/TS/Rust files

### Benchmark Reports
- **Format**: `benchmark-{component}-{date}.md`
- **Content**: Before/after comparisons, throughput metrics, latency percentiles
- **Generated**: Manual benchmark executions or CI/CD performance tests

### Fleet Performance Reports
- **Format**: `fleet-perf-{fleet-id}-{date}.json`
- **Content**: Agent utilization, coordination overhead, Redis pub/sub latency, efficiency metrics
- **Generated**: Fleet management tools (/fleet metrics)

## Metrics Tracked

### Code Performance
- **Execution time**: Function/method timing
- **Memory usage**: Heap allocation, garbage collection pressure
- **Algorithmic complexity**: O(n) analysis for loops and recursion
- **I/O operations**: File system, network, database latency

### WASM Acceleration
- **Speedup ratio**: Native vs WASM execution (target: 40-52x)
- **Memory efficiency**: Heap usage comparison
- **Cold start time**: WASM module initialization
- **Compilation overhead**: Binary size, compile time

### Fleet Coordination
- **Agent efficiency**: Useful work / total runtime (target: 0.40-0.45)
- **Event bus throughput**: Messages/second (target: 10,000+)
- **Redis latency**: pub/sub message delivery time (target: <50ms)
- **Coordination overhead**: Inter-agent communication cost

## Report Structure

```json
{
  "file": "path/to/file.js",
  "timestamp": "2025-10-10T12:34:56Z",
  "performance": {
    "executionTime": {
      "average": "125ms",
      "p50": "100ms",
      "p95": "200ms",
      "p99": "350ms"
    },
    "memoryUsage": {
      "heapUsed": "45MB",
      "peakHeap": "67MB",
      "gcPressure": "low"
    },
    "wasmAcceleration": {
      "enabled": true,
      "speedup": "52.3x",
      "native": "5000ms",
      "wasm": "96ms"
    }
  },
  "optimizations": [
    {
      "type": "memoization",
      "function": "calculateTotal",
      "potentialGain": "3.5x speedup",
      "recommendation": "Cache expensive calculations"
    }
  ],
  "summary": {
    "rating": "good",
    "bottlenecks": 1,
    "optimizationsApplied": 2
  }
}
```

## Usage

Performance reports inform:
- CFN Loop performance validator decisions
- WASM optimization strategies
- Fleet scaling decisions
- Code review optimization recommendations
- Capacity planning for enterprise deployments

## Examples

- `perf-auth-service-2025-10-10.json` - Post-edit performance analysis
- `wasm-ast-parser-2025-10-10.json` - WASM acceleration metrics
- `benchmark-event-bus-2025-10-10.md` - Event bus throughput benchmarks
- `fleet-perf-cfn-fleet-phase3-2025-10-10.json` - Fleet efficiency metrics

## Retention

Keep performance reports for latest 90 days. Archive historical data for trend analysis.

## Thresholds

- **WASM acceleration**: ≥40x speedup expected
- **Fleet efficiency**: ≥0.40 (target 0.45)
- **Event bus throughput**: ≥10,000 events/sec
- **Redis pub/sub latency**: ≤50ms p95
