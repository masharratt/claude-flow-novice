# Claude Flow Novice - Environment Configuration Template
# Copy this file to .env and configure for your environment

# =============================================================================
# DEPLOYMENT ENVIRONMENT
# =============================================================================
# Options: development, staging, production
NODE_ENV=development

# =============================================================================
# AGENT COORDINATION CONFIGURATION
# =============================================================================

# --- Development Environment (10 agents, verbose logging) ---
CFN_MAX_AGENTS=10
CFN_SHARD_COUNT=4
CFN_METRICS_ENABLED=true
CFN_ALERTING_ENABLED=false
CFN_LOG_LEVEL=debug
CFN_CONSENSUS_THRESHOLD=0.90
CFN_ALERT_COORD_TIME_MS=3000

# --- Staging Environment (100 agents, moderate logging) ---
# Uncomment for staging deployment
# CFN_MAX_AGENTS=100
# CFN_SHARD_COUNT=16
# CFN_METRICS_ENABLED=true
# CFN_ALERTING_ENABLED=true
# CFN_LOG_LEVEL=info
# CFN_CONSENSUS_THRESHOLD=0.90
# CFN_ALERT_COORD_TIME_MS=5000

# --- Production Environment (500 agents, minimal logging) ---
# Uncomment for production deployment
# CFN_MAX_AGENTS=500
# CFN_SHARD_COUNT=32
# CFN_METRICS_ENABLED=true
# CFN_ALERTING_ENABLED=true
# CFN_LOG_LEVEL=warn
# CFN_CONSENSUS_THRESHOLD=0.95
# CFN_ALERT_COORD_TIME_MS=8000

# =============================================================================
# MEMORY AND STORAGE CONFIGURATION
# =============================================================================

# Base directory for memory coordination (tmpfs recommended for production)
CFN_BASE_DIR=/tmp/cfn
# CFN_BASE_DIR=/dev/shm/cfn  # Use tmpfs for production (faster, memory-backed)

# Memory limits per agent (MB)
CFN_AGENT_MEMORY_LIMIT_MB=100

# Total memory pool (MB)
CFN_TOTAL_MEMORY_LIMIT_MB=2048
# CFN_TOTAL_MEMORY_LIMIT_MB=10240  # Staging: 10GB
# CFN_TOTAL_MEMORY_LIMIT_MB=51200  # Production: 50GB

# =============================================================================
# PERFORMANCE AND OPTIMIZATION
# =============================================================================

# Coordination timeouts
CFN_AGENT_TIMEOUT_MS=30000
CFN_CONSENSUS_TIMEOUT_MS=60000
CFN_SWARM_INIT_TIMEOUT_MS=10000

# Performance tuning
CFN_ENABLE_CACHING=true
CFN_CACHE_TTL_SECONDS=300
CFN_MAX_CONCURRENT_OPERATIONS=10
# CFN_MAX_CONCURRENT_OPERATIONS=50   # Staging
# CFN_MAX_CONCURRENT_OPERATIONS=100  # Production

# Resource cleanup
CFN_CLEANUP_INTERVAL_MS=60000
CFN_CLEANUP_STALE_AGENTS_ENABLED=true

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================

# Metrics collection
CFN_METRICS_COLLECTION_INTERVAL_MS=5000
CFN_METRICS_RETENTION_HOURS=24
# CFN_METRICS_RETENTION_HOURS=168  # Production: 7 days

# Performance metrics
CFN_TRACK_COORDINATION_TIME=true
CFN_TRACK_MEMORY_USAGE=true
CFN_TRACK_AGENT_LIFECYCLE=true

# Alerting thresholds
CFN_ALERT_MEMORY_THRESHOLD_PERCENT=80
CFN_ALERT_AGENT_FAILURE_COUNT=3
CFN_ALERT_CONSENSUS_FAILURE_THRESHOLD=0.70

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Agent authentication
CFN_ENABLE_AGENT_AUTH=false
# CFN_ENABLE_AGENT_AUTH=true  # Enable for staging/production
# CFN_AGENT_AUTH_TOKEN=your-secret-token-here

# Network security
CFN_ENABLE_TLS=false
# CFN_ENABLE_TLS=true  # Enable for production
# CFN_TLS_CERT_PATH=/path/to/cert.pem
# CFN_TLS_KEY_PATH=/path/to/key.pem

# Rate limiting
CFN_ENABLE_RATE_LIMITING=false
# CFN_ENABLE_RATE_LIMITING=true  # Enable for production
CFN_RATE_LIMIT_REQUESTS_PER_MINUTE=100
# CFN_RATE_LIMIT_REQUESTS_PER_MINUTE=1000  # Production

# =============================================================================
# INTEGRATION CONFIGURATION
# =============================================================================

# MCP Server
CFN_MCP_SERVER_ENABLED=true
CFN_MCP_SERVER_PORT=3000

# GitHub Integration (optional)
CFN_GITHUB_ENABLED=false
# CFN_GITHUB_TOKEN=your-github-token
# CFN_GITHUB_REPO=your-org/your-repo

# Database (optional - for persistent metrics)
CFN_DB_ENABLED=false
# CFN_DB_TYPE=sqlite
# CFN_DB_PATH=/var/lib/cfn/metrics.db
# CFN_DB_TYPE=postgresql
# CFN_DB_HOST=localhost
# CFN_DB_PORT=5432
# CFN_DB_NAME=cfn_metrics
# CFN_DB_USER=cfn_user
# CFN_DB_PASSWORD=your-db-password

# =============================================================================
# TESTING AND DEBUGGING
# =============================================================================

# Test mode (disables production safety checks)
CFN_TEST_MODE=false

# Debug options
CFN_DEBUG_AGENT_SPAWN=false
CFN_DEBUG_CONSENSUS=false
CFN_DEBUG_MEMORY=false
CFN_VERBOSE_LOGGING=false

# Chaos engineering (staging only)
CFN_CHAOS_ENABLED=false
# CFN_CHAOS_FAILURE_RATE=0.05
# CFN_CHAOS_LATENCY_MS=100

# =============================================================================
# EXPERIMENTAL FEATURES
# =============================================================================

# Neural coordination (experimental)
CFN_NEURAL_ENABLED=false
# CFN_NEURAL_MODEL=gpt-4
# CFN_NEURAL_API_KEY=your-api-key

# Advanced consensus algorithms
CFN_CONSENSUS_ALGORITHM=byzantine
# CFN_CONSENSUS_ALGORITHM=raft
# CFN_CONSENSUS_ALGORITHM=gossip

# Distributed tracing
CFN_TRACING_ENABLED=false
# CFN_TRACING_ENDPOINT=http://localhost:9411
# CFN_TRACING_SERVICE_NAME=claude-flow-novice
