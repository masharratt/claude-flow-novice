
> claude-flow-novice@1.6.1 test
> NODE_OPTIONS='--experimental-vm-modules' jest --config=config/jest/jest.config.js --bail --maxWorkers=1 --forceExit tests/unit/observability/metrics-integration.test.ts --json --testTimeout=30000

ts-jest[config] (WARN) 
    The "ts-jest" config option "isolatedModules" is deprecated and will be removed in v30.0.0. Please use "isolatedModules: true", see https://www.typescriptlang.org/tsconfig/#isolatedModules
  
  console.log
    ✅ Created coder agent: 52qb96r8c

      at AgentManager.createAgent (src/core/agent-manager.ts:30:13)

  console.log
    ✅ Created coder agent: o612917em

      at AgentManager.createAgent (src/core/agent-manager.ts:30:13)

  console.log
    🚀 Running coder agent: test task

      at AgentManager.runAgent (src/core/agent-manager.ts:69:13)

  console.log
    🤖 coder agent starting task: test task

      at SimpleAgent.execute (src/agents/simple-agent.ts:14:13)

(node:912728) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    ✅ Agent o612917em completed successfully

      at AgentManager.runAgent (src/core/agent-manager.ts:90:15)

  console.log
    ✅ Created coder agent: 13v1gd95e

      at AgentManager.createAgent (src/core/agent-manager.ts:30:13)

  console.log
    🚀 Running coder agent: simple test task

      at AgentManager.runAgent (src/core/agent-manager.ts:69:13)

  console.log
    🤖 coder agent starting task: simple test task

      at SimpleAgent.execute (src/agents/simple-agent.ts:14:13)

  console.log
    ✅ Agent 13v1gd95e completed successfully

      at AgentManager.runAgent (src/core/agent-manager.ts:90:15)

  console.log
    ✅ Created coder agent: gf0b0qoy2

      at AgentManager.createAgent (src/core/agent-manager.ts:30:13)

  console.log
    🚀 Running coder agent: test task with timing

      at AgentManager.runAgent (src/core/agent-manager.ts:69:13)

  console.log
    🤖 coder agent starting task: test task with timing

      at SimpleAgent.execute (src/agents/simple-agent.ts:14:13)

  console.log
    ✅ Agent gf0b0qoy2 completed successfully

      at AgentManager.runAgent (src/core/agent-manager.ts:90:15)

  console.log
    ✅ Created coder agent: ra60cp6m7

      at AgentManager.createAgent (src/core/agent-manager.ts:30:13)

  console.log
    🚀 Running coder agent: task that will fail

      at AgentManager.runAgent (src/core/agent-manager.ts:69:13)

  console.error
    ❌ Agent ra60cp6m7 failed: Error: Test error
        at SimpleAgent.execute (/mnt/c/Users/masha/Documents/claude-flow-novice/tests/unit/observability/metrics-integration.test.ts:130:15)
        at AgentManager.runAgent (/mnt/c/Users/masha/Documents/claude-flow-novice/src/core/agent-manager.ts:78:34)
        at Object.<anonymous> (/mnt/c/Users/masha/Documents/claude-flow-novice/tests/unit/observability/metrics-integration.test.ts:134:28)

      103 |         errorType: (error as Error).name || 'Unknown'
      104 |       });
    > 105 |       console.error(`❌ Agent ${id} failed:`, error);
          |               ^
      106 |       throw error;
      107 |     }
      108 |   }

      at AgentManager.runAgent (src/core/agent-manager.ts:105:15)
      at Object.<anonymous> (tests/unit/observability/metrics-integration.test.ts:134:9)

  console.log
    ✅ Created coder agent: 36cmj5yqe

      at AgentManager.createAgent (src/core/agent-manager.ts:30:13)

  console.log
    🚀 Running coder agent: coder task

      at AgentManager.runAgent (src/core/agent-manager.ts:69:13)

  console.log
    🤖 coder agent starting task: coder task

      at SimpleAgent.execute (src/agents/simple-agent.ts:14:13)

  console.log
    ✅ Agent 36cmj5yqe completed successfully

      at AgentManager.runAgent (src/core/agent-manager.ts:90:15)

  console.log
    ✅ Created planner agent: ngjjbbr5c

      at AgentManager.createAgent (src/core/agent-manager.ts:30:13)

  console.log
    🚀 Running planner agent: planner task

      at AgentManager.runAgent (src/core/agent-manager.ts:69:13)

  console.log
    🤖 planner agent starting task: planner task

      at SimpleAgent.execute (src/agents/simple-agent.ts:14:13)

  console.log
    ✅ Agent ngjjbbr5c completed successfully

      at AgentManager.runAgent (src/core/agent-manager.ts:90:15)

  console.log
    ✅ Created researcher agent: killogthc

      at AgentManager.createAgent (src/core/agent-manager.ts:30:13)

  console.log
    🚀 Running researcher agent: researcher task

      at AgentManager.runAgent (src/core/agent-manager.ts:69:13)

  console.log
    🤖 researcher agent starting task: researcher task

      at SimpleAgent.execute (src/agents/simple-agent.ts:14:13)

  console.log
    ✅ Agent killogthc completed successfully

      at AgentManager.runAgent (src/core/agent-manager.ts:90:15)

  console.log
    ✅ Created coder agent: 6msqvjpzr

      at AgentManager.createAgent (src/core/agent-manager.ts:30:13)

  console.log
    🚀 Running coder agent: double-count prevention test

      at AgentManager.runAgent (src/core/agent-manager.ts:69:13)

  console.log
    🤖 coder agent starting task: double-count prevention test

      at SimpleAgent.execute (src/agents/simple-agent.ts:14:13)

  console.log
    ✅ Agent 6msqvjpzr completed successfully

      at AgentManager.runAgent (src/core/agent-manager.ts:90:15)

  console.log
    ✅ Created coder agent: 1ufhn2bcp

      at AgentManager.createAgent (src/core/agent-manager.ts:30:13)

  console.log
    ✅ Created planner agent: ovcu06wbo

      at AgentManager.createAgent (src/core/agent-manager.ts:30:13)

  console.log
    ✅ Created researcher agent: fn94orznx

      at AgentManager.createAgent (src/core/agent-manager.ts:30:13)

  console.log
    🚀 Running coder agent: task 1

      at AgentManager.runAgent (src/core/agent-manager.ts:69:13)

  console.log
    🤖 coder agent starting task: task 1

      at SimpleAgent.execute (src/agents/simple-agent.ts:14:13)

