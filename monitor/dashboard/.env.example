# üîê Secure Dashboard Environment Configuration
# Copy this file to .env and update with your values

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Environment (required)
NODE_ENV=production

# JWT Configuration (required - generate strong secrets)
JWT_SECRET=your-256-bit-secret-key-here-minimum-64-characters
DEFAULT_ADMIN_PASSWORD=change-this-strong-password-immediately

# Access Control (required)
ALLOWED_ORIGINS=https://your-domain.com,https://dashboard.company.com

# =============================================================================
# RATE LIMITING & AUTHENTICATION
# =============================================================================

# General Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Authentication Rate Limiting (strict)
AUTH_MAX_LOGIN_ATTEMPTS=5
AUTH_LOCKOUT_DURATION=1800000

# Session Management
SESSION_TIMEOUT=3600000
TOKEN_REFRESH_THRESHOLD=300000

# =============================================================================
# HTTPS & SSL CONFIGURATION
# =============================================================================

# SSL Certificate Paths (required for HTTPS)
HTTPS_CERT_PATH=/app/ssl/cert.pem
HTTPS_KEY_PATH=/app/ssl/key.pem

# TLS Configuration
TLS_VERSION=1.2
CIPHER_SUITE=ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_RETENTION_DAYS=30

# Monitoring Features
METRICS_ENABLED=true
SECURITY_ENABLED=true
ALERTING_ENABLED=true
PERFORMANCE_MONITORING=true

# =============================================================================
# PERFORMANCE & RESOURCES
# =============================================================================

# Node.js Configuration
NODE_OPTIONS=--max-old-space-size=512 --no-expose-gc
UV_THREADPOOL_SIZE=4

# Container Configuration
PORT=3001
DASHBOARD_PORT=3001

# =============================================================================
# DATABASE CONFIGURATION (if applicable)
# =============================================================================

# Database Connection (uncomment if using database)
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=dashboard
# DB_USER=dashboard_user
# DB_PASSWORD=secure-db-password
# DB_SSL=true

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================

# Prometheus Metrics (uncomment to enable)
# PROMETHEUS_ENABLED=true
# PROMETHEUS_PORT=9090

# Slack Alerts (uncomment to enable)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Email Alerts (uncomment to enable)
# SMTP_HOST=smtp.company.com
# SMTP_PORT=587
# SMTP_USER=alerts@company.com
# SMTP_PASSWORD=smtp-password
# ALERTS_EMAIL=security@company.com

# =============================================================================
# ADVANCED SECURITY OPTIONS
# =============================================================================

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_ONLY=false

# HSTS (HTTP Strict Transport Security)
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# IP Whitelisting (optional - comma separated)
# IP_WHITELIST=192.168.1.0/24,10.0.0.0/8

# =============================================================================
# DEVELOPMENT & DEBUGGING (DO NOT USE IN PRODUCTION)
# =============================================================================

# Development Mode (comment out in production)
# NODE_ENV=development
# DEBUG=dashboard:*
# LOG_LEVEL=debug

# =============================================================================
# NOTES & REMINDERS
# =============================================================================

# 1. Generate strong secrets:
#    - JWT_SECRET: openssl rand -hex 64
#    - DEFAULT_ADMIN_PASSWORD: openssl rand -base64 32
#
# 2. SSL Certificates:
#    - Use Let's Encrypt for production
#    - Keep certificates private and secure
#
# 3. Security Best Practices:
#    - Never commit .env files to version control
#    - Rotate secrets regularly
#    - Use environment-specific configurations
#    - Monitor security logs daily
#
# 4. Performance Tuning:
#    - Adjust NODE_OPTIONS based on available resources
#    - Monitor memory usage and adjust heap size
#    - Configure rate limits based on expected traffic
#
# 5. Compliance:
#    - Ensure GDPR compliance for EU users
#    - Document security measures for audits
#    - Regular security assessments required