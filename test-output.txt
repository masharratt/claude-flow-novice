
> claude-flow-novice@1.5.22 test
> NODE_OPTIONS='--experimental-vm-modules' jest --config=config/jest/jest.config.js --bail --maxWorkers=1 --forceExit

ts-jest[config] (WARN) 
    The "ts-jest" config option "isolatedModules" is deprecated and will be removed in v30.0.0. Please use "isolatedModules: true", see https://www.typescriptlang.org/tsconfig/#isolatedModules
  
(node:39636) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    📁 Loaded 100 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:05.533Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:05.537Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:05.538Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:05.540Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:05.542Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    🔄 LRU eviction: cp_3ff223fa227a (age: 26867851ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_1764cf0ed456 (22.45ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-1: idle (23.40ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    🔄 LRU eviction: cp_da2f30ff01a7 (age: 26867557ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_801431b27f02 (5.83ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-1: working (6.56ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    ✅ State retrieved for agent-1: working (0.06ms)

      at StateStorage.getState (src/coordination/v2/memory/state-storage.ts:268:13)

  console.info
    [2025-10-03T22:14:05.575Z] INFO State transition completed {"agentId":"agent-1","transition":"idle -> working","latencyMs":"8.19"}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:05.777Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:05.778Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:05.779Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:05.780Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:05.780Z] INFO Cleaning up state machine {"totalAgents":1,"totalTransitions":1}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 100 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:06.093Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:06.093Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:06.093Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:06.094Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:06.094Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    🔄 LRU eviction: cp_ab6444bf2d37 (age: 26867789ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_027111caa18c (6.78ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-2: idle (7.44ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    🔄 LRU eviction: cp_5b411131afb9 (age: 26867497ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_2ee23dc29350 (6.57ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-2: working (7.14ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    ✅ State retrieved for agent-2: working (0.03ms)

      at StateStorage.getState (src/coordination/v2/memory/state-storage.ts:268:13)

  console.info
    [2025-10-03T22:14:06.110Z] INFO State transition completed {"agentId":"agent-2","transition":"idle -> working","latencyMs":"7.87"}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    🔄 LRU eviction: cp_ec7d57e6414e (age: 26867498ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_dd0b6b5616c8 (5.68ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-2: paused (6.29ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    ✅ State retrieved for agent-2: paused (0.03ms)

      at StateStorage.getState (src/coordination/v2/memory/state-storage.ts:268:13)

  console.info
    [2025-10-03T22:14:06.118Z] INFO State transition completed {"agentId":"agent-2","transition":"working -> paused","latencyMs":"7.01"}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    🔄 LRU eviction: cp_6a6d6af92d0d (age: 26867496ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_c267f03c20b3 (6.32ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-2: working (6.94ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    ✅ State retrieved for agent-2: working (0.03ms)

      at StateStorage.getState (src/coordination/v2/memory/state-storage.ts:268:13)

  console.info
    [2025-10-03T22:14:06.125Z] INFO State transition completed {"agentId":"agent-2","transition":"paused -> working","latencyMs":"7.59"}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:06.426Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:06.427Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:06.427Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:06.428Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:06.428Z] INFO Cleaning up state machine {"totalAgents":1,"totalTransitions":3}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 100 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:06.624Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:06.624Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:06.625Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:06.625Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:06.625Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    🔄 LRU eviction: cp_adfeed57f9c3 (age: 26867578ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_63bc6f6d0743 (4.78ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-3: idle (5.18ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    🔄 LRU eviction: cp_405f9ea899bd (age: 26867573ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_9d85f258c3b9 (4.77ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-3: working (5.30ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    ✅ State retrieved for agent-3: working (0.03ms)

      at StateStorage.getState (src/coordination/v2/memory/state-storage.ts:268:13)

  console.info
    [2025-10-03T22:14:06.637Z] INFO State transition completed {"agentId":"agent-3","transition":"idle -> working","latencyMs":"6.03"}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:06.837Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:06.838Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:06.838Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:06.839Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:06.839Z] INFO Cleaning up state machine {"totalAgents":1,"totalTransitions":1}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 100 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:07.012Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.012Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.012Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.013Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.013Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    🔄 LRU eviction: cp_c419dbfa4031 (age: 26867591ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_cf5c24401e5f (4.90ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-4: idle (5.54ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.info
    [2025-10-03T22:14:07.020Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.020Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.021Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.021Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.021Z] INFO Cleaning up state machine {"totalAgents":1,"totalTransitions":0}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 100 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:07.208Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.209Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.209Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.209Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.210Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    🔄 LRU eviction: cp_cbc0b2dade10 (age: 26867781ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_0e103a482330 (4.26ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-5: idle (4.72ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.info
    [2025-10-03T22:14:07.215Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.216Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.216Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.217Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.217Z] INFO Cleaning up state machine {"totalAgents":1,"totalTransitions":0}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 100 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:07.398Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.398Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.398Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.399Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.399Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    🔄 LRU eviction: cp_6e04263b4a37 (age: 26867963ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_b2901309f65c (5.02ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-6: idle (5.63ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.info
    [2025-10-03T22:14:07.405Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.406Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.406Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.407Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.407Z] INFO Cleaning up state machine {"totalAgents":1,"totalTransitions":0}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 100 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:07.612Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.612Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.612Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.613Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.613Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.613Z] INFO Message-driven state transition handlers registered

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    🔄 LRU eviction: cp_7ef73b9c9b94 (age: 26866660ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_70f35d917061 (3.91ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-7: idle (4.65ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    🔄 LRU eviction: cp_5921d17fb7d8 (age: 26866659ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_6da411e244b6 (4.77ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-7: working (5.33ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    ✅ State retrieved for agent-7: working (0.04ms)

      at StateStorage.getState (src/coordination/v2/memory/state-storage.ts:268:13)

  console.info
    [2025-10-03T22:14:07.625Z] INFO State transition completed {"agentId":"agent-7","transition":"idle -> working","latencyMs":"6.28"}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    🔄 LRU eviction: cp_9b028d774d30 (age: 26865820ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_70bb123f4799 (4.76ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-7: paused (5.39ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    ✅ State retrieved for agent-7: paused (0.03ms)

      at StateStorage.getState (src/coordination/v2/memory/state-storage.ts:268:13)

  console.info
    [2025-10-03T22:14:07.632Z] INFO State transition completed {"agentId":"agent-7","transition":"working -> paused","latencyMs":"6.32"}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.826Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.827Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.827Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.828Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:07.828Z] INFO Cleaning up state machine {"totalAgents":1,"totalTransitions":2}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 100 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:08.022Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.022Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.023Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.023Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.023Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.023Z] INFO Message-driven state transition handlers registered

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    🔄 LRU eviction: cp_5d7547ed1ed3 (age: 26866009ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_d572104983e7 (4.96ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-8: idle (5.58ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.error
    [2025-10-03T22:14:08.030Z] ERROR Invalid state transition: idle -> paused Error: {"agentId":"agent-8","currentState":"idle","newState":"paused"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at StateMachine.executeTransition (src/coordination/v2/core/state-machine.ts:291:21)
      at StateMachine.transition (src/coordination/v2/core/state-machine.ts:217:36)
      at Object.<anonymous> (tests/coordination/v2/integration/real-message-bus-integration.test.ts:387:26)

  console.log
    🔄 LRU eviction: cp_5885f7bb10f0 (age: 26866012ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_160fc77242c7 (4.75ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-8: working (5.38ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    ✅ State retrieved for agent-8: working (0.03ms)

      at StateStorage.getState (src/coordination/v2/memory/state-storage.ts:268:13)

  console.info
    [2025-10-03T22:14:08.039Z] INFO State transition completed {"agentId":"agent-8","transition":"idle -> working","latencyMs":"6.16"}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.235Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.235Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.236Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.236Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.237Z] INFO Cleaning up state machine {"totalAgents":1,"totalTransitions":1}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 100 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:08.430Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.430Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.430Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.430Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.431Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.431Z] INFO Message-driven state transition handlers registered

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    🔄 LRU eviction: cp_1e8be06cc860 (age: 26866405ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_998797f09b57 (5.47ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-9: idle (6.04ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    🔄 LRU eviction: cp_716f293cff62 (age: 26866404ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_0ac29fe11dc6 (5.31ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-9: working (5.91ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    ✅ State retrieved for agent-9: working (0.03ms)

      at StateStorage.getState (src/coordination/v2/memory/state-storage.ts:268:13)

  console.info
    [2025-10-03T22:14:08.445Z] INFO State transition completed {"agentId":"agent-9","transition":"idle -> working","latencyMs":"6.79"}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    🔄 LRU eviction: cp_5d111a82be90 (age: 12601168ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_82ac245f6290 (5.17ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-9: terminated (5.81ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    ✅ State retrieved for agent-9: terminated (0.03ms)

      at StateStorage.getState (src/coordination/v2/memory/state-storage.ts:268:13)

  console.info
    [2025-10-03T22:14:08.452Z] INFO State transition completed {"agentId":"agent-9","transition":"working -> terminated","latencyMs":"6.59"}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.646Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.647Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.647Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.648Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.648Z] INFO Cleaning up state machine {"totalAgents":1,"totalTransitions":2}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 100 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:08.863Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.864Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.864Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.864Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:08.865Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:09.167Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:09.168Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:09.168Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:09.168Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:09.169Z] INFO Cleaning up state machine {"totalAgents":0,"totalTransitions":0}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 100 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:09.437Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:09.437Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:09.437Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:09.437Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:09.438Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:09.839Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:09.840Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:09.841Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:09.841Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:09.842Z] INFO Cleaning up state machine {"totalAgents":0,"totalTransitions":0}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 100 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:10.041Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.042Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.042Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.042Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.042Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    🔄 LRU eviction: cp_0020a60a47e3 (age: 12602760ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_9481cd608579 (4.90ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-10: idle (5.46ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    🔄 LRU eviction: cp_acdc72f26017 (age: 12602320ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_d42bffe40761 (4.67ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-10: working (5.43ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    ✅ State retrieved for agent-10: working (0.04ms)

      at StateStorage.getState (src/coordination/v2/memory/state-storage.ts:268:13)

  console.info
    [2025-10-03T22:14:10.055Z] INFO State transition completed {"agentId":"agent-10","transition":"idle -> working","latencyMs":"6.21"}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.055Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.056Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.056Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.057Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.057Z] INFO Cleaning up state machine {"totalAgents":1,"totalTransitions":1}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 100 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:10.262Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.262Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.262Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.262Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.263Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.263Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.264Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.265Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.265Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.266Z] INFO Cleaning up state machine {"totalAgents":0,"totalTransitions":0}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 100 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:10.496Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.496Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.497Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.497Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.497Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.698Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.699Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.699Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.700Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.700Z] INFO Cleaning up state machine {"totalAgents":0,"totalTransitions":0}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 100 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:10.898Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.898Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.899Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.899Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.899Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    🔄 LRU eviction: cp_1361962a87fe (age: 12603166ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_51988d9bf65e (4.77ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-12: idle (5.20ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.info
    [2025-10-03T22:14:10.905Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.905Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.906Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.906Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:10.907Z] INFO Cleaning up state machine {"totalAgents":1,"totalTransitions":0}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 100 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:11.107Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:11.108Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:11.108Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:11.108Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:11.108Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    🔄 LRU eviction: cp_b36024083c8d (age: 12603370ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_5f9e44667fbd (5.69ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-13: idle (6.35ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    🔄 LRU eviction: cp_01c91987e33d (age: 12603370ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_c119d3f07362 (4.57ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-14: idle (5.03ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    🔄 LRU eviction: cp_052071f85c5f (age: 12602786ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)

  console.log
    ✅ Checkpoint created: cp_c510bd63ced0 (4.91ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)

  console.log
    ✅ State stored for agent-15: idle (5.44ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)

  console.log
    🔄 LRU eviction: cp_d0b10a980b87 (age: 12602786ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)
          at Array.map (<anonymous>)

  console.log
    🔄 LRU eviction: cp_0c4de721b717 (age: 12602350ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)
          at Array.map (<anonymous>)

  console.log
    🔄 LRU eviction: cp_25da81a06ecb (age: 12602171ms, reason: MEMORY_LIMIT_ENFORCEMENT)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:199:17)
          at Array.map (<anonymous>)

  console.log
    ✅ Checkpoint created: cp_1f2c794daf89 (5.34ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)
          at async Promise.all (index 1)

  console.log
    ✅ State stored for agent-14: working (5.89ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)
          at async Promise.all (index 1)

  console.log
    ✅ State retrieved for agent-14: working (0.03ms)

      at StateStorage.getState (src/coordination/v2/memory/state-storage.ts:268:13)
          at async Promise.all (index 1)

  console.info
    [2025-10-03T22:14:11.134Z] INFO State transition completed {"agentId":"agent-14","transition":"idle -> working","latencyMs":"6.52"}

      at Logger.writeToConsole (src/core/logger.ts:230:17)
          at async Promise.all (index 1)

  console.log
    ✅ Checkpoint created: cp_ce4c88d227ee (7.57ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)
          at async Promise.all (index 0)

  console.log
    ✅ State stored for agent-13: working (7.95ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)
          at async Promise.all (index 0)

  console.log
    ✅ State retrieved for agent-13: working (0.02ms)

      at StateStorage.getState (src/coordination/v2/memory/state-storage.ts:268:13)
          at async Promise.all (index 0)

  console.info
    [2025-10-03T22:14:11.135Z] INFO State transition completed {"agentId":"agent-13","transition":"idle -> working","latencyMs":"8.49"}

      at Logger.writeToConsole (src/core/logger.ts:230:17)
          at async Promise.all (index 0)

  console.log
    ✅ Checkpoint created: cp_1f2c794daf89 (10.20ms, 0.50x compression)

      at CheckpointManager.createCheckpoint (src/coordination/v2/sdk/checkpoint-manager.ts:233:13)
          at async Promise.all (index 2)

  console.log
    ✅ State stored for agent-15: working (10.73ms, artifact: default-session)

      at StateStorage.setState (src/coordination/v2/memory/state-storage.ts:239:13)
          at async Promise.all (index 2)

  console.log
    ✅ State retrieved for agent-15: working (0.03ms)

      at StateStorage.getState (src/coordination/v2/memory/state-storage.ts:268:13)
          at async Promise.all (index 2)

  console.info
    [2025-10-03T22:14:11.139Z] INFO State transition completed {"agentId":"agent-15","transition":"idle -> working","latencyMs":"11.36"}

      at Logger.writeToConsole (src/core/logger.ts:230:17)
          at async Promise.all (index 2)

  console.info
    [2025-10-03T22:14:11.440Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:11.440Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:11.441Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:11.441Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:11.441Z] INFO Cleaning up state machine {"totalAgents":3,"totalTransitions":3}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 99 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:11.643Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:11.643Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:11.643Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:11.643Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:11.644Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:11.844Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:11.845Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:11.845Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:11.846Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:11.846Z] INFO Cleaning up state machine {"totalAgents":0,"totalTransitions":0}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 99 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:12.048Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.048Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.048Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.049Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.049Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.050Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.050Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.051Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.051Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.051Z] INFO Cleaning up state machine {"totalAgents":0,"totalTransitions":0}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 99 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:12.267Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.267Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.267Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.268Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.268Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.error
    [2025-10-03T22:14:12.268Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.271Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.274Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.276Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.279Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.281Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.284Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.286Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.288Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.291Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.294Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.296Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.298Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.301Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.303Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.305Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.308Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.310Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.313Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.error
    [2025-10-03T22:14:12.316Z] ERROR Message handler error Error: {"subscriptionId":"sub-1759529652268-aeoodcrn7","topic":"fail.test","error":"Handler failure"}

      234 |         break;
      235 |       case LogLevel.ERROR:
    > 236 |         console.error(message);
          |                 ^
      237 |         break;
      238 |     }
      239 |   }

      at Logger.writeToConsole (src/core/logger.ts:236:17)
      at Logger.log (src/core/logger.ts:183:12)
      at Logger.error (src/core/logger.ts:140:10)
      at MessageBusIntegration.deliverMessage (src/coordination/v2/sdk/message-bus-integration.ts:637:23)
      at MessageBusIntegration.processMessages (src/coordination/v2/sdk/message-bus-integration.ts:587:11)

  console.info
    [2025-10-03T22:14:12.594Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.595Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.595Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.595Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.596Z] INFO Cleaning up state machine {"totalAgents":0,"totalTransitions":0}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 99 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:12.810Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.811Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.811Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.811Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.811Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.812Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.812Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.813Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.813Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.814Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.814Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.815Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.815Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.816Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.816Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:12.817Z] INFO Cleaning up state machine {"totalAgents":0,"totalTransitions":0}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    📁 Loaded 99 checkpoints from disk

      at CheckpointManager.loadFromDisk (src/coordination/v2/sdk/checkpoint-manager.ts:529:15)

  console.log
    ✅ CheckpointManager initialized

      at CheckpointManager.initialize (src/coordination/v2/sdk/checkpoint-manager.ts:1062:13)

  console.log
    📁 Loaded state index: 0 agents

      at StateStorage.loadStateIndex (src/coordination/v2/memory/state-storage.ts:500:13)

  console.log
    ✅ StateStorage initialized

      at StateStorage.initialize (src/coordination/v2/memory/state-storage.ts:150:13)

  console.info
    [2025-10-03T22:14:13.034Z] INFO QueryController initialized {"maxConcurrentAgents":10,"enableDynamicAllocation":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:13.034Z] INFO Initializing QueryController coordinator

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:13.034Z] INFO StateMachine initialized {"autoCheckpoint":false,"pauseDuringTransition":false}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:13.034Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:13.035Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:13.035Z] INFO MessageBusIntegration initialized {"autoPublishStateTransitions":true,"autoPublishTaskEvents":true,"enableMessageDrivenTransitions":true}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:13.035Z] INFO Message bus started

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:13.036Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:13.036Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:13.036Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:13.037Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:13.037Z] INFO Cleaning up message bus integration

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:13.037Z] INFO Message bus stopped

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:13.038Z] INFO Message bus integration cleanup complete

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    [2025-10-03T22:14:13.038Z] INFO Cleaning up state machine {"totalAgents":0,"totalTransitions":0}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

  console.log
    ✅ StateStorage closed

      at StateStorage.close (src/coordination/v2/memory/state-storage.ts:457:13)

  console.log
    ✅ CheckpointManager closed

      at CheckpointManager.close (src/coordination/v2/sdk/checkpoint-manager.ts:1077:13)

FAIL tests/coordination/v2/integration/real-message-bus-integration.test.ts (23.256 s)
  Real Message Bus Integration - No Mocks
    State Transition Message Flow
      ✓ should publish message on state transition (559 ms)
      ✓ should handle multiple state transitions in sequence (647 ms)
      ✓ should include metadata in state transition messages (410 ms)
    Task Lifecycle Message Flow
      ✕ should publish message when task is assigned (182 ms)
      ✕ should publish message when task completes (187 ms)
      ✕ should publish message when task fails (190 ms)
    Message-Driven State Transitions
      ✓ should transition agent state via command message (421 ms)
      ✓ should resume agent via command message (409 ms)
      ✓ should terminate agent via command message (411 ms)
    Priority-Based Message Delivery
      ✕ should deliver high-priority messages first (521 ms)
      ✕ should handle mixed priority messages in real scenario (673 ms)
    Request/Reply Pattern
      ✕ should handle request/reply for agent status (214 ms)
      ✕ should timeout on no reply (208 ms)
    Dependency Graph Integration
      ✓ should publish messages for dependency changes (415 ms)
    End-to-End Workflows
      ✕ should complete full agent workflow with messages (206 ms)
      ✓ should handle concurrent agent operations (534 ms)
    Metrics and Monitoring
      ✓ should track message bus metrics (405 ms)
      ✓ should report healthy status (205 ms)
      ✓ should detect high failure rate (544 ms)
    Lifecycle Management
      ✓ should start and stop message bus (221 ms)
      ✓ should cleanup resources properly (221 ms)

  ● Real Message Bus Integration - No Mocks › Task Lifecycle Message Flow › should publish message when task is assigned

    TypeError: this.graph.addNode is not a function

      194 |     };
      195 |
    > 196 |     this.graph.addNode(normalizedTask);
          |                ^
      197 |     this.scheduleTasks(); // Trigger immediate scheduling check
      198 |     this.emit('task:queued', { taskId: normalizedTask.taskId });
      199 |   }

      at TaskScheduler.scheduleTask (src/coordination/v2/core/task-scheduler.ts:196:16)
      at Object.<anonymous> (tests/coordination/v2/integration/real-message-bus-integration.test.ts:285:27)

  ● Real Message Bus Integration - No Mocks › Task Lifecycle Message Flow › should publish message when task completes

    TypeError: this.graph.addNode is not a function

      194 |     };
      195 |
    > 196 |     this.graph.addNode(normalizedTask);
          |                ^
      197 |     this.scheduleTasks(); // Trigger immediate scheduling check
      198 |     this.emit('task:queued', { taskId: normalizedTask.taskId });
      199 |   }

      at TaskScheduler.scheduleTask (src/coordination/v2/core/task-scheduler.ts:196:16)
      at Object.<anonymous> (tests/coordination/v2/integration/real-message-bus-integration.test.ts:317:27)

  ● Real Message Bus Integration - No Mocks › Task Lifecycle Message Flow › should publish message when task fails

    TypeError: this.graph.addNode is not a function

      194 |     };
      195 |
    > 196 |     this.graph.addNode(normalizedTask);
          |                ^
      197 |     this.scheduleTasks(); // Trigger immediate scheduling check
      198 |     this.emit('task:queued', { taskId: normalizedTask.taskId });
      199 |   }

      at TaskScheduler.scheduleTask (src/coordination/v2/core/task-scheduler.ts:196:16)
      at Object.<anonymous> (tests/coordination/v2/integration/real-message-bus-integration.test.ts:347:27)

  ● Real Message Bus Integration - No Mocks › Priority-Based Message Delivery › should deliver high-priority messages first

    expect(received).toBe(expected) // Object.is equality

    Expected: "critical"
    Received: "low"

      467 |
      468 |       // Critical should be first, low should be last
    > 469 |       expect(deliveryOrder[0]).toBe('critical');
          |                                ^
      470 |       expect(deliveryOrder[deliveryOrder.length - 1]).toBe('low');
      471 |     });
      472 |

      at Object.<anonymous> (tests/coordination/v2/integration/real-message-bus-integration.test.ts:469:32)

  ● Real Message Bus Integration - No Mocks › Priority-Based Message Delivery › should handle mixed priority messages in real scenario

    expect(received).toBeLessThan(expected)

    Expected: < 3
    Received:   4.5

      514 |         const avgLowIndex = lowPriorityIndices.reduce((a, b) => a + b, 0) / lowPriorityIndices.length;
      515 |
    > 516 |         expect(avgHighIndex).toBeLessThan(avgLowIndex);
          |                              ^
      517 |       }
      518 |     });
      519 |   });

      at Object.<anonymous> (tests/coordination/v2/integration/real-message-bus-integration.test.ts:516:30)

  ● Real Message Bus Integration - No Mocks › Request/Reply Pattern › should handle request/reply for agent status

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: undefined

      548 |       });
      549 |
    > 550 |       expect(reply.success).toBe(true);
          |                             ^
      551 |       expect(reply.payload.state).toBe(AgentState.WORKING);
      552 |     });
      553 |

      at Object.<anonymous> (tests/coordination/v2/integration/real-message-bus-integration.test.ts:550:29)

  ● Real Message Bus Integration - No Mocks › Request/Reply Pattern › should timeout on no reply

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: {"data": "test"}

      553 |
      554 |     it('should timeout on no reply', async () => {
    > 555 |       await expect(
          |             ^
      556 |         messageBus.request('no.reply.topic', { data: 'test' }, { timeout: 100 })
      557 |       ).rejects.toThrow(/timeout/i);
      558 |     });

      at expect (node_modules/expect/build/index.js:113:15)
      at Object.<anonymous> (tests/coordination/v2/integration/real-message-bus-integration.test.ts:555:13)

  ● Real Message Bus Integration - No Mocks › End-to-End Workflows › should complete full agent workflow with messages

    TypeError: this.graph.addNode is not a function

      194 |     };
      195 |
    > 196 |     this.graph.addNode(normalizedTask);
          |                ^
      197 |     this.scheduleTasks(); // Trigger immediate scheduling check
      198 |     this.emit('task:queued', { taskId: normalizedTask.taskId });
      199 |   }

      at TaskScheduler.scheduleTask (src/coordination/v2/core/task-scheduler.ts:196:16)
      at Object.<anonymous> (tests/coordination/v2/integration/real-message-bus-integration.test.ts:639:27)

Summary of all failing tests
FAIL tests/coordination/v2/integration/real-message-bus-integration.test.ts (23.256 s)
  ● Real Message Bus Integration - No Mocks › Task Lifecycle Message Flow › should publish message when task is assigned

    TypeError: this.graph.addNode is not a function

      194 |     };
      195 |
    > 196 |     this.graph.addNode(normalizedTask);
          |                ^
      197 |     this.scheduleTasks(); // Trigger immediate scheduling check
      198 |     this.emit('task:queued', { taskId: normalizedTask.taskId });
      199 |   }

      at TaskScheduler.scheduleTask (src/coordination/v2/core/task-scheduler.ts:196:16)
      at Object.<anonymous> (tests/coordination/v2/integration/real-message-bus-integration.test.ts:285:27)

  ● Real Message Bus Integration - No Mocks › Task Lifecycle Message Flow › should publish message when task completes

    TypeError: this.graph.addNode is not a function

      194 |     };
      195 |
    > 196 |     this.graph.addNode(normalizedTask);
          |                ^
      197 |     this.scheduleTasks(); // Trigger immediate scheduling check
      198 |     this.emit('task:queued', { taskId: normalizedTask.taskId });
      199 |   }

      at TaskScheduler.scheduleTask (src/coordination/v2/core/task-scheduler.ts:196:16)
      at Object.<anonymous> (tests/coordination/v2/integration/real-message-bus-integration.test.ts:317:27)

  ● Real Message Bus Integration - No Mocks › Task Lifecycle Message Flow › should publish message when task fails

    TypeError: this.graph.addNode is not a function

      194 |     };
      195 |
    > 196 |     this.graph.addNode(normalizedTask);
          |                ^
      197 |     this.scheduleTasks(); // Trigger immediate scheduling check
      198 |     this.emit('task:queued', { taskId: normalizedTask.taskId });
      199 |   }

      at TaskScheduler.scheduleTask (src/coordination/v2/core/task-scheduler.ts:196:16)
      at Object.<anonymous> (tests/coordination/v2/integration/real-message-bus-integration.test.ts:347:27)

  ● Real Message Bus Integration - No Mocks › Priority-Based Message Delivery › should deliver high-priority messages first

    expect(received).toBe(expected) // Object.is equality

    Expected: "critical"
    Received: "low"

      467 |
      468 |       // Critical should be first, low should be last
    > 469 |       expect(deliveryOrder[0]).toBe('critical');
          |                                ^
      470 |       expect(deliveryOrder[deliveryOrder.length - 1]).toBe('low');
      471 |     });
      472 |

      at Object.<anonymous> (tests/coordination/v2/integration/real-message-bus-integration.test.ts:469:32)

  ● Real Message Bus Integration - No Mocks › Priority-Based Message Delivery › should handle mixed priority messages in real scenario

    expect(received).toBeLessThan(expected)

    Expected: < 3
    Received:   4.5

      514 |         const avgLowIndex = lowPriorityIndices.reduce((a, b) => a + b, 0) / lowPriorityIndices.length;
      515 |
    > 516 |         expect(avgHighIndex).toBeLessThan(avgLowIndex);
          |                              ^
      517 |       }
      518 |     });
      519 |   });

      at Object.<anonymous> (tests/coordination/v2/integration/real-message-bus-integration.test.ts:516:30)

  ● Real Message Bus Integration - No Mocks › Request/Reply Pattern › should handle request/reply for agent status

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: undefined

      548 |       });
      549 |
    > 550 |       expect(reply.success).toBe(true);
          |                             ^
      551 |       expect(reply.payload.state).toBe(AgentState.WORKING);
      552 |     });
      553 |

      at Object.<anonymous> (tests/coordination/v2/integration/real-message-bus-integration.test.ts:550:29)

  ● Real Message Bus Integration - No Mocks › Request/Reply Pattern › should timeout on no reply

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: {"data": "test"}

      553 |
      554 |     it('should timeout on no reply', async () => {
    > 555 |       await expect(
          |             ^
      556 |         messageBus.request('no.reply.topic', { data: 'test' }, { timeout: 100 })
      557 |       ).rejects.toThrow(/timeout/i);
      558 |     });

      at expect (node_modules/expect/build/index.js:113:15)
      at Object.<anonymous> (tests/coordination/v2/integration/real-message-bus-integration.test.ts:555:13)

  ● Real Message Bus Integration - No Mocks › End-to-End Workflows › should complete full agent workflow with messages

    TypeError: this.graph.addNode is not a function

      194 |     };
      195 |
    > 196 |     this.graph.addNode(normalizedTask);
          |                ^
      197 |     this.scheduleTasks(); // Trigger immediate scheduling check
      198 |     this.emit('task:queued', { taskId: normalizedTask.taskId });
      199 |   }

      at TaskScheduler.scheduleTask (src/coordination/v2/core/task-scheduler.ts:196:16)
      at Object.<anonymous> (tests/coordination/v2/integration/real-message-bus-integration.test.ts:639:27)


Test Suites: 1 failed, 1 of 295 total
Tests:       8 failed, 13 passed, 21 total
Snapshots:   0 total
Time:        24.961 s, estimated 570 s
Ran all test suites.
