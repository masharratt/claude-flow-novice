
> claude-flow-novice@1.5.22 test
> NODE_OPTIONS='--experimental-vm-modules' jest --config=config/jest/jest.config.js --bail --maxWorkers=1 --forceExit tests/security/queen-agent-security.test.ts

ts-jest[config] (WARN) 
    The "ts-jest" config option "isolatedModules" is deprecated and will be removed in v30.0.0. Please use "isolatedModules: true", see https://www.typescriptlang.org/tsconfig/#isolatedModules
  
  console.info
    {"timestamp":"2025-10-03T18:13:25.876Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:25.935Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:25.938Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

(node:22987) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.info
    {"timestamp":"2025-10-03T18:13:26.124Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.151Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":909}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.153Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":909,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.153Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.157Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.159Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.178Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.178Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.179Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.185Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.209Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":911}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.210Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":911,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.211Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.214Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.218Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.228Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.229Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.230Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.237Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.262Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":913}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.263Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":913,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.263Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.266Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.268Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.293Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.294Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.295Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.301Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.324Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":914}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.325Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":914,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.326Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.331Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.337Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.343Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.343Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.344Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.351Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.384Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":915}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.385Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":915,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.386Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.389Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.392Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.400Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.401Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.401Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.408Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.437Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":916}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.438Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":916,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.438Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.441Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.443Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.450Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.451Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.451Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.462Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.487Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":917}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.488Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":917,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.488Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.491Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.493Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.498Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.499Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.500Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.506Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.529Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":918}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.530Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":918,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.531Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.534Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.536Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.541Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.542Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.542Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.548Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.571Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":919}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.571Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":919,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.572Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.576Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.578Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.591Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.592Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.592Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.598Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.630Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":922}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.631Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":922,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.631Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.634Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.636Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.648Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.649Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.649Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.659Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.683Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":924}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.684Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":924,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.684Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.687Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.689Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.700Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.700Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.701Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.710Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.738Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":926}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.740Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":926,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.741Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.749Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.752Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.762Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.763Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.763Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.769Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.794Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":928}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.795Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":928,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.795Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.798Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.803Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.812Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.813Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.813Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.820Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.845Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":930}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.846Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":930,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.846Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.849Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.851Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.862Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.863Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.863Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.870Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.895Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":932}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.896Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":932,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.896Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.901Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.904Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.919Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.919Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.920Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.927Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.951Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":934}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.952Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":934,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.952Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.955Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.957Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.965Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.966Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.966Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:26.973Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.001Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":936}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.002Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":936,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.002Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.007Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.010Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.022Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.022Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.023Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.030Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.059Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":938}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.060Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":938,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.061Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.064Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.066Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.077Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.077Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.078Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.084Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.118Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":940}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.119Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":940,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.119Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.122Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.125Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.134Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.134Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.135Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.144Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.171Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":942}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.172Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":942,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.172Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.177Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.180Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.191Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.191Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.192Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.197Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.225Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":944}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.226Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":944,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.226Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.263Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.265Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.321Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.322Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.322Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.329Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.356Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":955}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.357Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":955,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.357Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.360Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.362Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.404Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.405Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.405Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.411Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.443Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":966}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.444Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":966,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.444Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.448Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.450Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.456Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.457Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.457Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.464Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.491Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":967}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.492Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":967,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.493Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.496Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.499Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.505Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.506Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.506Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.514Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.544Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":968}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.545Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":968,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.545Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.550Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.552Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.557Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.558Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.558Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.565Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.593Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":969}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.594Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":969,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.594Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.597Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.599Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.604Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.605Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.605Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.611Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.639Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":970}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.640Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":970,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.640Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.643Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.645Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.651Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.651Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.652Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.659Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.687Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":971}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.688Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":971,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.689Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.692Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.694Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.699Z","level":"INFO","message":"Initializing swarm memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.700Z","level":"INFO","message":"Initializing memory manager...","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.700Z","level":"INFO","message":"Initializing SQLite backend","context":{"component":"SwarmMemoryManager"},"data":{"dbPath":"./swarm-memory.db"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.707Z","level":"INFO","message":"SQLite backend initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.734Z","level":"INFO","message":"Building memory index","context":{"component":"SwarmMemoryManager"},"data":{"entries":972}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.735Z","level":"INFO","message":"Memory index built","context":{"component":"SwarmMemoryManager"},"data":{"totalEntries":972,"agents":67,"sessions":1,"types":1,"tags":19}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.735Z","level":"INFO","message":"Memory manager initialized","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.738Z","level":"INFO","message":"Loaded 0 memory entries","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

  console.info
    {"timestamp":"2025-10-03T18:13:27.740Z","level":"INFO","message":"Loaded 0 knowledge bases","context":{"component":"SwarmMemoryManager"}}

      at Logger.writeToConsole (src/core/logger.ts:230:17)

FAIL tests/security/queen-agent-security.test.ts (15.494 s)
  Queen Agent Security Tests
    VULN-P5-001: spawnWorker() Authorization
      ✕ should allow admin to spawn workers (299 ms)
      ✕ should allow system callers to spawn workers (51 ms)
      ✕ should deny observer from spawning workers (403) (65 ms)
      ✕ should deny unauthorized caller from spawning workers (403) (49 ms)
      ✕ should validate worker capabilities input (57 ms)
      ✕ should reject malicious worker type with special characters (50 ms)
      ✕ should reject worker with excessive skills (>50) (48 ms)
      ✕ should reject worker with invalid maxConcurrentTasks (43 ms)
    VULN-P5-002: delegateTask() Authorization
      ✕ should allow coordinator to delegate tasks (50 ms)
      ✕ should allow admin to delegate tasks (56 ms)
      ✕ should deny observer from delegating tasks (403) (52 ms)
      ✕ should deny unauthorized caller from delegating tasks (403) (62 ms)
      ✕ should validate task input (50 ms)
      ✕ should reject task with malicious ID (SQL injection attempt) (50 ms)
      ✕ should reject task with path traversal in ID (57 ms)
      ✕ should reject task with excessive dependencies (>100) (46 ms)
      ✕ should validate worker ID format (56 ms)
    aggregateResults() Authorization
      ✕ should allow coordinator to aggregate results (54 ms)
      ✕ should deny observer from aggregating results (403) (56 ms)
      ✕ should validate worker results format (56 ms)
    Rate Limiting
      ✕ should enforce worker spawn rate limit (130 ms)
      ✕ should enforce concurrent worker limit (83 ms)
      ✕ should enforce task delegation rate limit (52 ms)
      ✕ should enforce task queue size limit (49 ms)
    Caller Identity Validation
      ✕ should reject caller with missing ID (52 ms)
      ✕ should reject caller with invalid type (47 ms)
      ✕ should reject caller with no roles (46 ms)
      ✕ should reject caller with excessive roles (>20) (48 ms)
      ✕ should reject caller with malicious role names (47 ms)

  ● Queen Agent Security Tests › VULN-P5-001: spawnWorker() Authorization › should allow admin to spawn workers

    expect(received).toMatch(expected)

    Expected pattern: /^worker-backend-dev-/
    Received string:  "worker-backend-dev_mgb5xa1i_znp58hvnq"

      93 |       );
      94 |
    > 95 |       expect(workerId).toMatch(/^worker-backend-dev-/);
         |                        ^
      96 |     });
      97 |
      98 |     it('should allow system callers to spawn workers', async () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:95:24)

  ● Queen Agent Security Tests › VULN-P5-001: spawnWorker() Authorization › should allow admin to spawn workers

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › VULN-P5-001: spawnWorker() Authorization › should allow system callers to spawn workers

    expect(received).toMatch(expected)

    Expected pattern: /^worker-tester-/
    Received string:  "worker-tester_mgb5xa33_9iilo4f2d"

      113 |       );
      114 |
    > 115 |       expect(workerId).toMatch(/^worker-tester-/);
          |                        ^
      116 |     });
      117 |
      118 |     it('should deny observer from spawning workers (403)', async () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:115:24)

  ● Queen Agent Security Tests › VULN-P5-001: spawnWorker() Authorization › should allow system callers to spawn workers

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › VULN-P5-001: spawnWorker() Authorization › should deny observer from spawning workers (403)

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › VULN-P5-001: spawnWorker() Authorization › should deny unauthorized caller from spawning workers (403)

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › VULN-P5-001: spawnWorker() Authorization › should validate worker capabilities input

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › VULN-P5-001: spawnWorker() Authorization › should reject malicious worker type with special characters

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › VULN-P5-001: spawnWorker() Authorization › should reject worker with excessive skills (>50)

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › VULN-P5-001: spawnWorker() Authorization › should reject worker with invalid maxConcurrentTasks

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › VULN-P5-002: delegateTask() Authorization › should allow coordinator to delegate tasks

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › VULN-P5-002: delegateTask() Authorization › should allow admin to delegate tasks

    TypeError: task.dependencies is not iterable

      46 |
      47 |     // Validate dependencies exist
    > 48 |     for (const depId of task.dependencies) {
         |                              ^
      49 |       if (!this.nodes.has(depId) && !this.completedTasks.has(depId)) {
      50 |         throw new TaskDependencyError(task.id, [depId]);
      51 |       }

      at DependencyGraph.addTask (src/coordination/dependency-graph.ts:48:30)
      at QueenAgent.delegateTask (src/coordination/queen-agent.ts:374:26)
      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:246:39)

  ● Queen Agent Security Tests › VULN-P5-002: delegateTask() Authorization › should allow admin to delegate tasks

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › VULN-P5-002: delegateTask() Authorization › should deny observer from delegating tasks (403)

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › VULN-P5-002: delegateTask() Authorization › should deny unauthorized caller from delegating tasks (403)

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › VULN-P5-002: delegateTask() Authorization › should validate task input

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › VULN-P5-002: delegateTask() Authorization › should reject task with malicious ID (SQL injection attempt)

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › VULN-P5-002: delegateTask() Authorization › should reject task with path traversal in ID

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › VULN-P5-002: delegateTask() Authorization › should reject task with excessive dependencies (>100)

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › VULN-P5-002: delegateTask() Authorization › should validate worker ID format

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › aggregateResults() Authorization › should allow coordinator to aggregate results

    Worker results validation failed: : Expected object, received map

      221 |   if (!result.success) {
      222 |     const errors = result.error.errors.map(e => `${e.path.join('.')}: ${e.message}`).join(', ');
    > 223 |     throw new Error(`Worker results validation failed: ${errors}`);
          |           ^
      224 |   }
      225 |
      226 |   return result.data;

      at validateWorkerResults (src/coordination/validation-schemas.ts:223:11)
      at QueenAgent.aggregateResults (src/coordination/queen-agent.ts:463:30)
      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:340:43)

  ● Queen Agent Security Tests › aggregateResults() Authorization › should allow coordinator to aggregate results

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › aggregateResults() Authorization › should deny observer from aggregating results (403)

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › aggregateResults() Authorization › should validate worker results format

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › Rate Limiting › should enforce worker spawn rate limit

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › Rate Limiting › should enforce concurrent worker limit

    expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

      420 |       );
      421 |
    > 422 |       expect(limitErrors.length).toBeGreaterThan(0);
          |                                  ^
      423 |     });
      424 |
      425 |     it('should enforce task delegation rate limit', async () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:422:34)

  ● Queen Agent Security Tests › Rate Limiting › should enforce concurrent worker limit

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › Rate Limiting › should enforce task delegation rate limit

    Worker capabilities validation failed: maxConcurrentTasks: Max concurrent tasks cannot exceed 100

      165 |   if (!result.success) {
      166 |     const errors = result.error.errors.map(e => `${e.path.join('.')}: ${e.message}`).join(', ');
    > 167 |     throw new Error(`Worker capabilities validation failed: ${errors}`);
          |           ^
      168 |   }
      169 |
      170 |   return result.data;

      at validateWorkerCapabilities (src/coordination/validation-schemas.ts:167:11)
      at QueenAgent.spawnWorker (src/coordination/queen-agent.ts:281:35)
      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:427:41)

  ● Queen Agent Security Tests › Rate Limiting › should enforce task delegation rate limit

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › Rate Limiting › should enforce task queue size limit

    Worker capabilities validation failed: maxConcurrentTasks: Max concurrent tasks cannot exceed 100

      165 |   if (!result.success) {
      166 |     const errors = result.error.errors.map(e => `${e.path.join('.')}: ${e.message}`).join(', ');
    > 167 |     throw new Error(`Worker capabilities validation failed: ${errors}`);
          |           ^
      168 |   }
      169 |
      170 |   return result.data;

      at validateWorkerCapabilities (src/coordination/validation-schemas.ts:167:11)
      at QueenAgent.spawnWorker (src/coordination/queen-agent.ts:281:35)
      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:461:41)

  ● Queen Agent Security Tests › Rate Limiting › should enforce task queue size limit

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › Caller Identity Validation › should reject caller with missing ID

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › Caller Identity Validation › should reject caller with invalid type

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › Caller Identity Validation › should reject caller with no roles

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › Caller Identity Validation › should reject caller with excessive roles (>20)

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

  ● Queen Agent Security Tests › Caller Identity Validation › should reject caller with malicious role names

    TypeError: memory.close is not a function

      78 |   afterEach(async () => {
      79 |     await queenAgent.shutdown();
    > 80 |     await memory.close();
         |                  ^
      81 |   });
      82 |
      83 |   describe('VULN-P5-001: spawnWorker() Authorization', () => {

      at Object.<anonymous> (tests/security/queen-agent-security.test.ts:80:18)

Test Suites: 1 failed, 1 total
Tests:       29 failed, 29 total
Snapshots:   0 total
Time:        16.913 s
Ran all test suites matching /tests\/security\/queen-agent-security.test.ts/i.
